{% extends "base.html" %}
{% load i18n %}

{% block content %}
<div class="quiz">
    <h1>{{ unit.title }} {% trans "Quiz" %}</h1>
    <form id="quiz-form">
        {% for question in unit.quiz %}
        <div class="question">
            <p>{{ question.prompt }}</p>
            {% for option in question.options %}
            <label>
                <input type="radio" name="q{{ question.id }}" value="{{ forloop.counter0 }}">
                {{ option }}
            </label>
            {% endfor %}
        </div>
        {% endfor %}
        <button type="submit">{% trans "Submit" %}</button>
    </form>
    <div id="feedback" style="display:none;">
        <h2>{% trans "Your Score" %}: <span id="score"></span>%</h2>
        <div id="explanations"></div>
    </div>
</div>
<script src="/static/js/quiz.js"></script>
<script>
const unit = {{ unit|safe }};
const subject = '{{ subject }}';
const grade = {{ grade }};
const locale = '{{ locale }}';
initQuiz(unit, subject, grade, locale);
</script>
{% endblock %}